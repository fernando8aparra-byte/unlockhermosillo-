<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PRUEBA FIREBASE</title>
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.13.1/firebase-app.js";
        import { getDatabase, ref, push } from "https://www.gstatic.com/firebasejs/10.13.1/firebase-database.js";

        const firebaseConfig = {
            apiKey: "AIzaSyAt8TuulnlY3IKPaFVctgaGNQWewfzONEI",
            authDomain: "comprobantes-363c9.firebaseapp.com",
            databaseURL: "https://comprobantes-363c9-default-rtdb.firebaseio.com",
            projectId: "comprobantes-363c9",
            storageBucket: "comprobantes-363c9.firebasestorage.app",
            messagingSenderId: "390391998056",
            appId: "1:390391998056:web:23e22073d88bc247d43ddd"
        };

        const app = initializeApp(firebaseConfig);
        const db = getDatabase(app);
        const testRef = ref(db, 'prueba_rapida');

        window.enviarPrueba = async () => {
            const btn = document.getElementById('btn');
            btn.textContent = "ENVIANDO...";
            btn.style.background = "#f1c40f";

            const dato = {
                mensaje: "¡Funciona!",
                fecha: new Date().toLocaleString('es-MX')
            };

            try {
                await push(testRef, dato);
                alert("¡ÉXITO! Ya se guardó en Firebase.\nVe a Realtime Database → nodo 'prueba_rapida'");
                btn.textContent = "¡FUNCIONA!";
                btn.style.background = "#27ae60";
            } catch (error) {
                alert("ERROR:\n" + error.code + "\n" + error.message);
                btn.textContent = "ERROR";
                btn.style.background = "#e74c3c";
                console.error(error);
            }
        };
    </script>
    <style>
        body { font-family: sans-serif; text-align: center; padding: 50px; background: #2c3e50; color: white; }
        h1 { font-size: 28px; }
        button { margin-top: 50px; padding: 25px 50px; font-size: 24px; font-weight: bold; 
                 background: #e74c3c; color: white; border: none; border-radius: 20px; cursor: pointer; }
    </style>
</head>
<body>
    <h1>PRUEBA RÁPIDA FIREBASE</h1>
    <p>Dale al botón rojo ↓</p>
    <button id="btn" onclick="enviarPrueba()">ENVIAR DATO DE PRUEBA</button>
    <br><br>
    <small>Si funciona → verás un nodo "prueba_rapida" en tu Firebase</small>
</body>
</html>
