<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Desbloqueo tu iPhone</title>
    <!-- Fuente formal y n√≠tida: Inter -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap">
    <!-- Fuente oficial de Apple como fallback -->
    <link rel="stylesheet" href="https://sf.abarba.me/SF.css">
    <!-- Iconos -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <!-- Firebase SDK -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.14.1/firebase-app.js";
        import { getStorage, ref, listAll, getDownloadURL } from "https://www.gstatic.com/firebasejs/10.14.1/firebase-storage.js";
        const firebaseConfig = {
            apiKey: "AIzaSyAt8TuulnlY3IKPaFVctgaGNQWewfzONEI",
            authDomain: "comprobantes-363c9.firebaseapp.com",
            databaseURL: "https://comprobantes-363c9-default-rtdb.firebaseio.com",
            projectId: "comprobantes-363c9",
            storageBucket: "comprobantes-363c9.firebasestorage.app",
            messagingSenderId: "390391998056",
            appId: "1:390391998056:web:23e22073d88bc247d43ddd",
            measurementId: "G-8W03RJD0TZ"
        };
        const app = initializeApp(firebaseConfig);
        const storage = getStorage(app);
        async function getLogoUrl(folder) {
            try {
                const folderRef = ref(storage, folder);
                const listResult = await listAll(folderRef);
                if (listResult.items.length > 0) {
                    return await getDownloadURL(listResult.items[0]);
                }
            } catch (error) {
                console.error(`Error cargando logo de ${folder}:`, error);
            }
            return null;
        }
        async function loadLogos() {
            const icloudImg = document.getElementById('icloud-logo');
            const googleImg = document.getElementById('google-logo');
            const attImg = document.getElementById('att-logo');
            const icloudUrl = await getLogoUrl('iCloud');
            const googleUrl = await getLogoUrl('Drive');
            const attUrl = await getLogoUrl('at&t');
            if (icloudUrl) {
                icloudImg.src = icloudUrl;
                icloudImg.style.display = 'inline';
            }
            if (googleUrl) {
                googleImg.src = googleUrl;
                googleImg.style.display = 'inline';
            }
            if (attUrl) {
                attImg.src = attUrl;
                attImg.style.display = 'inline';
            }
        }
        async function loadCarousel(folder, carouselId) {
            const folderRef = ref(storage, folder);
            const carouselInner = document.querySelector(`#${carouselId} .carousel-inner`);
            carouselInner.innerHTML = '';
            try {
                const listResult = await listAll(folderRef);
                if (listResult.items.length === 0) {
                    carouselInner.innerHTML = '<div class="carousel-item active"><div class="fb-image-placeholder">No hay im√°genes disponibles</div></div>';
                    return;
                }
                listResult.items.forEach((itemRef, index) => {
                    getDownloadURL(itemRef).then(url => {
                        const div = document.createElement('div');
                        div.className = 'carousel-item' + (index === 0 ? ' active' : '');
                        div.innerHTML = `<img src="${url}" alt="Trabajo reciente" onerror="this.style.display='none'; this.parentElement.querySelector('.fb-image-placeholder')?.style.display='flex';">`;
                        const placeholder = document.createElement('div');
                        placeholder.className = 'fb-image-placeholder';
                        placeholder.textContent = 'Imagen no disponible';
                        placeholder.style.display = 'none';
                        div.appendChild(placeholder);
                        carouselInner.appendChild(div);
                    }).catch(err => {
                        console.error('Error al obtener URL:', err);
                    });
                });
            } catch (error) {
                console.error("Error cargando carrusel de " + folder + ":", error);
                carouselInner.innerHTML = '<div class="carousel-item active"><div class="fb-image-placeholder">Error al cargar im√°genes</div></div>';
            }
        }
        document.addEventListener('DOMContentLoaded', () => {
            const mainContent = document.getElementById('main-content');
            const titleContainer = document.getElementById('title-container');
            const checkVisibility = setInterval(() => {
                if (titleContainer.classList.contains('visible')) {
                    loadLogos();
                    clearInterval(checkVisibility);
                }
            }, 100);
            const observer = new MutationObserver(() => {
                if (mainContent.classList.contains('visible')) {
                    loadCarousel('ads-1', 'carousel-1');
                    loadCarousel('ads-2', 'carousel-2');
                    observer.disconnect();
                }
            });
            observer.observe(mainContent, { attributes: true, attributeFilter: ['class'] });
            if (mainContent.classList.contains('visible')) {
                loadCarousel('ads-1', 'carousel-1');
                loadCarousel('ads-2', 'carousel-2');
            }
        });
    </script>
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'SF Pro Text', 'SF Pro Display', 'Helvetica Neue', Helvetica, Arial, sans-serif;
            background-color: #f5f5f7;
            color: #1d1d1f;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
            overflow-x: hidden;
        }
        #hero-header {
            height: 100vh;
            background: linear-gradient(to bottom, #ffffff 0%, #f0f0f2 70%, #e5e5e7 100%);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            position: relative;
            cursor: pointer;
            overflow: hidden;
        }
        #hero-header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 60%;
            background: linear-gradient(to bottom, rgba(255,255,255,0.8) 0%, transparent 100%);
            pointer-events: none;
        }
        .hero-content {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            width: 100%;
        }
        .title-container {
            position: relative;
            height: 120px;
            width: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            opacity: 0;
            transform: translateX(-100px);
            transition: opacity 1.2s cubic-bezier(0.22, 0.61, 0.36, 1), transform 1.2s cubic-bezier(0.22, 0.61, 0.36, 1);
            z-index: 2;
        }
        .title-container.visible {
            opacity: 1;
            transform: translateX(0);
        }
        .title-row {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 20px;
            font-size: clamp(36px, 8vw, 48px); /* Responsive pero mantiene buen tama√±o */
            font-weight: 700;
            opacity: 0;
            transform: translateY(100%);
            transition: transform 0.8s ease, opacity 0.8s ease;
            position: absolute;
            width: auto;
        }
        .title-row.active {
            opacity: 1;
            transform: translateY(0);
        }
        .title-row.prev {
            transform: translateY(-100%);
        }
        .title-text {
            white-space: nowrap;
            color: #1d1d1f;
        }
        .title-logo {
            height: 1em;
            width: auto;
            object-fit: contain;
            vertical-align: middle;
            display: none;
        }
        .scroll-indicator {
            position: absolute;
            bottom: 40px;
            font-size: 40px;
            color: #1d1d1f;
            opacity: 0.6;
            animation: bounce 1.5s infinite;
            z-index: 2;
        }
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }
        /* Resto del c√≥digo igual */
        .recent-works-header {
            display: flex;
            justify-content: flex-start;
            padding: 0 20px;
            max-width: 1200px;
            width: 100%;
            margin: 60px 0 20px;
        }
        .recent-works-header h2 {
            font-size: 32px;
            font-weight: 600;
            margin: 0;
        }
        .posts-grid {
            display: flex;
            flex-direction: column;
            gap: 30px;
            max-width: 1200px;
            width: 100%;
            padding: 0 20px;
            margin-bottom: 60px;
        }
        @media (min-width: 768px) {
            .posts-grid {
                flex-direction: row;
            }
        }
        .fb-carousel-container {
            flex: 1;
            background: white;
            border-radius: 18px;
            overflow: hidden;
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
            display: flex;
            flex-direction: column;
            max-width: 600px;
            margin: 0 auto;
        }
        .fb-carousel-container:hover {
            transform: translateY(-6px);
            box-shadow: 0 16px 40px rgba(0,0,0,0.15);
        }
        .fb-header {
            display: flex;
            align-items: center;
            padding: 12px 16px;
            cursor: pointer;
        }
        .fb-profile-pic, .fb-name {
            cursor: pointer;
        }
        .fb-profile-pic {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: #e4e6eb;
            margin-right: 12px;
        }
        .fb-name-time {
            flex: 1;
        }
        .fb-name {
            font-weight: 600;
            font-size: 15px;
            color: #1c1e21;
        }
        .fb-time {
            font-size: 13px;
            color: #65676b;
        }
        .fb-content {
            padding: 0 16px 12px;
            font-size: 15px;
            color: #1c1e21;
        }
        .carousel-container {
            position: relative;
            width: 100%;
            height: 500px;
            background: #000;
            overflow: hidden;
        }
        .carousel-inner {
            display: flex;
            width: 100%;
            height: 100%;
            transition: transform 0.5s ease;
        }
        .carousel-item {
            min-width: 100%;
            height: 100%;
            position: relative;
        }
        .carousel-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: block;
        }
        .fb-image-placeholder {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #f0f0f0 0%, #e0e0e0 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            color: #aaa;
            font-size: 18px;
        }
        .accordion {
            max-width: 800px;
            width: 90%;
            margin: 40px auto;
        }
        .accordion-item {
            background: white;
            border-radius: 14px;
            margin-bottom: 16px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.08);
            overflow: hidden;
        }
        .accordion-header {
            padding: 20px;
            font-size: 20px;
            font-weight: 600;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .accordion-header i {
            transition: transform 0.3s ease;
        }
        .accordion-header.active i {
            transform: rotate(180deg);
        }
        .accordion-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s ease;
            padding: 0 20px;
        }
        .accordion-content.open {
            max-height: 800px;
            padding: 20px;
        }
        .steps {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        .step {
            display: flex;
            align-items: center;
            font-size: 18px;
        }
        .step-number {
            width: 40px;
            height: 40px;
            background: #1d1d1f;
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            margin-right: 20px;
            flex-shrink: 0;
        }
        .arrow {
            margin: 0 20px;
            font-size: 24px;
            color: #1d1d1f;
            animation: bounce 1.5s infinite;
        }
        .cta-container {
            width: 100%;
            max-width: 1200px;
            padding: 0 20px;
            display: flex;
            justify-content: center;
            margin: 40px 0 60px;
        }
        .cta-button {
            background: #1d1d1f;
            color: #ffffff;
            border: none;
            padding: 20px 56px;
            font-size: 26px;
            font-weight: 600;
            cursor: pointer;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            transition: all 0.3s ease;
        }
        .cta-button:hover {
            background: #000000;
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.2);
        }
        #terms-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            transition: opacity 0.8s ease;
        }
        #terms-screen.hidden {
            opacity: 0;
            pointer-events: none;
        }
        .terms-card {
            background: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(20px);
            border-radius: 18px;
            padding: 40px;
            max-width: 600px;
            width: 90%;
            box-shadow: 0 8px 32px rgba(0,0,0,0.12);
            text-align: center;
        }
        .checkbox-container {
            margin: 20px 0;
        }
        #accept-btn {
            padding: 12px 32px;
            font-size: 18px;
            background: #1d1d1f;
            color: white;
            border: none;
            border-radius: 12px;
            cursor: pointer;
        }
        main {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            opacity: 0;
            transition: opacity 1s ease 0.6s;
        }
        main.visible {
            opacity: 1;
        }
        footer {
            text-align: center;
            padding: 40px 20px;
            font-size: 14px;
            color: #86868b;
        }
        .instagram-link {
            margin-top: 12px;
            font-size: 28px;
            color: #1d1d1f;
            transition: color 0.3s ease;
        }
        .instagram-link:hover {
            color: #e1306c;
        }
    </style>
</head>
<body>
    <section id="hero-header">
        <div class="hero-content">
            <div class="title-container" id="title-container">
                <div class="title-row active">
                    <span class="title-text">Desbloqueo tu iPhone</span>
                </div>
                <div class="title-row">
                    <span class="title-text">Cuenta de iCloud</span>
                    <img id="icloud-logo" src="" alt="iCloud" class="title-logo">
                </div>
                <div class="title-row">
                    <span class="title-text">Cuenta de Google</span>
                    <img id="google-logo" src="" alt="Google" class="title-logo">
                </div>
                <div class="title-row">
                    <span class="title-text">Liberaci√≥n de compa√±√≠a</span>
                    <img id="att-logo" src="" alt="AT&T" class="title-logo">
                </div>
            </div>
        </div>
        <div class="scroll-indicator">
            <i class="fas fa-chevron-down"></i>
        </div>
    </section>
    <div id="terms-screen">
        <div class="terms-card">
            <h2>T√©rminos y Condiciones</h2>
            <p>Al utilizar este servicio, usted declara que:</p>
            <ul>
                <li>El tel√©fono iPhone es de su propiedad exclusiva.</li>
                <li>Entiende que cualquier procedimiento de desbloqueo o reparaci√≥n conlleva riesgos inherentes.</li>
                <li>El t√©cnico se deslinda de toda responsabilidad por da√±os, p√©rdida de datos o cualquier consecuencia posterior al servicio.</li>
                <li>Usted asume completa responsabilidad por el dispositivo y su contenido.</li>
            </ul>
            <p>Al aceptar, confirma que ha le√≠do y acepta estos t√©rminos.</p>
            <div class="checkbox-container">
                <input type="checkbox" id="accept-checkbox">
                <label for="accept-checkbox">Acepto los t√©rminos y condiciones</label>
            </div>
            <button id="accept-btn" disabled>Aceptar y continuar</button>
        </div>
    </div>
    <main id="main-content">
        <div class="recent-works-header">
            <h2>Trabajos recientes</h2>
        </div>
        <div class="posts-grid">
            <div class="fb-carousel-container">
                <div class="fb-header" onclick="window.open('https://www.instagram.com/ferv_hs', '_blank')">
                    <div class="fb-profile-pic"></div>
                    <div class="fb-name-time">
                        <div class="fb-name">ferv_hs</div>
                        <div class="fb-time">Trabajo reciente</div>
                    </div>
                </div>
                <div class="fb-content">
                    ¬°Otro iPhone desbloqueado con √©xito! Cliente feliz y listo para usar su dispositivo üöÄ
                </div>
                <div class="carousel-container" id="carousel-1">
                    <div class="carousel-inner"></div>
                </div>
            </div>
            <div class="fb-carousel-container">
                <div class="fb-header" onclick="window.open('https://www.instagram.com/ferv_hs', '_blank')">
                    <div class="fb-profile-pic"></div>
                    <div class="fb-name-time">
                        <div class="fb-name">ferv_hs</div>
                        <div class="fb-time">Trabajo reciente</div>
                    </div>
                </div>
                <div class="fb-content">
                    ¬°Otro iPhone desbloqueado con √©xito! Cliente feliz y listo para usar su dispositivo üöÄ
                </div>
                <div class="carousel-container" id="carousel-2">
                    <div class="carousel-inner"></div>
                </div>
            </div>
        </div>
        <div class="accordion">
            <div class="accordion-item">
                <div class="accordion-header">¬øC√≥mo funcionan las citas?<i class="fas fa-chevron-down"></i></div>
                <div class="accordion-content">
                    <div class="steps">
                        <div class="step">
                            <div class="step-number">1</div>
                            <div>Agendas tu cita a trav√©s del formulario</div>
                        </div>
                        <div class="arrow"><i class="fas fa-arrow-down"></i></div>
                        <div class="step">
                            <div class="step-number">2</div>
                            <div>Te enviamos un mensaje para confirmar tus datos</div>
                        </div>
                        <div class="arrow"><i class="fas fa-arrow-down"></i></div>
                        <div class="step">
                            <div class="step-number">3</div>
                            <div>Realizamos el servicio el mismo d√≠a de la cita</div>
                        </div>
                        <div class="arrow"><i class="fas fa-arrow-down"></i></div>
                        <div class="step">
                            <div class="step-number">4</div>
                            <div>Pagas al finalizar el servicio</div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="accordion-item">
                <div class="accordion-header">¬øC√≥mo queda el tel√©fono despu√©s de desbloquearlo por iCloud?<i class="fas fa-chevron-down"></i></div>
                <div class="accordion-content">
                    <p>Los tel√©fonos quedan totalmente funcionales, como de f√°brica.</p>
                    <p>A excepci√≥n de los modelos recientes a partir del iPhone XR en adelante, que quedar√°n sin se√±al. Esto quiere decir que no detectar√°n el chip. Esto pasa porque internamente a√∫n sigue estando bloqueado por IMEI. Para esto no tenemos soluci√≥n, pero el tel√©fono se puede utilizar con normalidad: poner tu cuenta de iCloud, descargar apps, tomar fotos, grabar audios, descargar WhatsApp, etc.</p>
                </div>
            </div>
            <div class="accordion-item">
                <div class="accordion-header">Preguntas frecuentes<i class="fas fa-chevron-down"></i></div>
                <div class="accordion-content">
                    <p>Puedes agregar aqu√≠ las preguntas m√°s comunes de tus clientes.</p>
                </div>
            </div>
            <div class="accordion-item">
                <div class="accordion-header">Sobre nosotros<i class="fas fa-chevron-down"></i></div>
                <div class="accordion-content">
                    <p>Somos especialistas en desbloqueo y reparaci√≥n de iPhones con a√±os de experiencia. Servicio r√°pido, seguro y garantizado.</p>
                </div>
            </div>
        </div>
        <div class="cta-container">
            <button class="cta-button" onclick="window.location.href='crea-cita.html'">¬°Agenda ahora tu desbloqueo!</button>
        </div>
    </main>
    <footer>
        <p>¬© 2025 Todos los derechos reservados.</p>
        <a href="https://www.instagram.com/ferv_hs" target="_blank" class="instagram-link">
            <i class="fab fa-instagram"></i>
        </a>
    </footer>
    <script>
        const termsScreen = document.getElementById('terms-screen');
        const titleContainer = document.getElementById('title-container');
        const mainContent = document.getElementById('main-content');
        const checkbox = document.getElementById('accept-checkbox');
        const acceptBtn = document.getElementById('accept-btn');

        if (localStorage.getItem('termsAccepted') === 'true') {
            termsScreen.classList.add('hidden');
            titleContainer.classList.add('visible');
            mainContent.classList.add('visible');
        }
        checkbox.addEventListener('change', () => {
            acceptBtn.disabled = !checkbox.checked;
        });
        acceptBtn.addEventListener('click', () => {
            if (checkbox.checked) {
                localStorage.setItem('termsAccepted', 'true');
                termsScreen.classList.add('hidden');
                setTimeout(() => {
                    titleContainer.classList.add('visible');
                }, 300);
                setTimeout(() => mainContent.classList.add('visible'), 600);
            }
        });

        const rows = document.querySelectorAll('.title-row');
        let currentIndex = 0;
        function rotateTitle() {
            const current = rows[currentIndex];
            const nextIndex = (currentIndex + 1) % rows.length;
            const next = rows[nextIndex];
            current.classList.remove('active');
            current.classList.add('prev');
            next.classList.add('active');
            setTimeout(() => {
                current.classList.remove('prev');
            }, 800);
            currentIndex = nextIndex;
        }
        const startRotation = () => {
            setTimeout(() => {
                setInterval(rotateTitle, 5000);
                rotateTitle(); // Inicia la primera rotaci√≥n inmediatamente despu√©s del delay
            }, 5000);
        };
        if (titleContainer.classList.contains('visible')) {
            startRotation();
        } else {
            const check = setInterval(() => {
                if (titleContainer.classList.contains('visible')) {
                    startRotation();
                    clearInterval(check);
                }
            }, 100);
        }

        document.getElementById('hero-header').addEventListener('click', () => {
            document.querySelector('.recent-works-header').scrollIntoView({ behavior: 'smooth' });
        });
        let touchStartY = 0;
        document.getElementById('hero-header').addEventListener('touchstart', (e) => {
            touchStartY = e.touches[0].clientY;
        });
        document.getElementById('hero-header').addEventListener('touchmove', (e) => {
            const touchY = e.touches[0].clientY;
            if (touchY > touchStartY + 50) {
                document.querySelector('.recent-works-header').scrollIntoView({ behavior: 'smooth' });
            }
        });
        document.querySelectorAll('.accordion-header').forEach(h => {
            h.addEventListener('click', () => {
                const content = h.nextElementSibling;
                const icon = h.querySelector('i');
                h.classList.toggle('active');
                content.classList.toggle('open');
                if (content.classList.contains('open')) {
                    icon.classList.replace('fa-chevron-down', 'fa-chevron-up');
                } else {
                    icon.classList.replace('fa-chevron-up', 'fa-chevron-down');
                }
            });
        });
        document.querySelectorAll('.carousel-container').forEach(container => {
            let touchStartX = 0;
            let currentIndex = 0;
            const inner = container.querySelector('.carousel-inner');
            const getItems = () => inner.querySelectorAll('.carousel-item');
            const updateTransform = () => {
                inner.style.transform = `translateX(-${currentIndex * 100}%)`;
            };
            container.addEventListener('touchstart', e => {
                touchStartX = e.touches[0].screenX;
            }, { passive: true });
            container.addEventListener('touchend', e => {
                const touchEndX = e.changedTouches[0].screenX;
                const diff = touchStartX - touchEndX;
                if (Math.abs(diff) > 50 && getItems().length > 1) {
                    if (diff > 0) {
                        currentIndex = (currentIndex + 1) % getItems().length;
                    } else {
                        currentIndex = (currentIndex - 1 + getItems().length) % getItems().length;
                    }
                    updateTransform();
                }
            }, { passive: true });
        });
    </script>
</body>
</html>
